<script src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../zonetostudent-card/zonetostudent-card.html">
<link rel="import" href="../mappointtoroute-card/mappointtoroute-card.html">
<link rel="import" href="../genestureport-card/genestureport-card.html">
<link rel="import" href="../item-card/item-card.html">
<link rel="import" href="../accountsadmin-card/accountsadmin-card.html">
<link rel="import" href="../transportadmin-card/transportadmin-card.html">
<link rel="import" href="../login-card/login-card.html">
<link rel="import" href="../refund-list/refund-list.html">
<link rel="import" href="../discountstudent-card/discountstudent-card.html">
<link rel="import" href="../transportfee-card/transportfee-card.html">
<link rel="import" href="../mapstudenttopoint-card/mapstudenttopoint-card.html">
<link rel="stylesheet" type="text/css" href="../../styles/styles.css">
  <dom-module id="transport-app">
  <template>
  <style>
  .in
  {
  float:right;
  font-size:12px;
  }
  .bottomicon
  {
    width: 15%;
  }
  .backbutton
  {
    float:left;
    width: 4%;
  }
  </style>

  <div class="head">
  <paper-icon-button class="backbutton" src="../../images/home.png" on-click="home"></paper-icon-button>
      <label>{{title}}</label>
      <paper-button class="in" on-click="signout">Sign Out</paper-button>
    </div>

      <div class="content">
        <iron-pages selected="{{page}}" attr-for-selected="data-category">

        <section data-category="loginpage">
              <login-card></login-card>
           </section>
            <section data-category="accountadmin">
              <accountsadmin-card></accountsadmin-card>
           </section>
            <section data-category="transportadmin">
              <transportadmin-card></transportadmin-card>
           </section>
          <section data-category="zonetostudent">
              <zonetostudent-card></zonetostudent-card>
           </section>
           <section data-category="mappointtoroute">
              <mappointtoroute-card></mappointtoroute-card>
           </section>
            <section data-category="mapstudenttopoint">
              <mapstudenttopoint-card></mapstudenttopoint-card>
           </section>
            <section data-category="generatereport">
              <genestureport-card></genestureport-card>
           </section>
            <section data-category="cancellation">
              <cancellation-card></cancellation-card>
           </section>
            <section data-category="transportfee">
              <transportfee-card></transportfee-card>
           </section>
            <section data-category="approval">
              <refund-list></refund-list>
           </section>
           <section data-category="discount">
              <discountstudent-card></discountstudent-card>
           </section>
          </iron-pages>
       </div>

       <div class="footer">
  </template>
  <script>

  Polymer({
    is: "transport-app",
    ready: function() {
      //alert("yes coming");
      //this.page="transportadmin";
  
   var name=sessionStorage.getItem("userinfo");
   var currpage=localStorage.getItem("curr_sess_page");
   //alert(currpage);
  
   if(name=="Transport Admin")  {
    //alert('in');
    this.page="transportadmin";
    if((currpage=='mappointtoroute')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='mappointtoroute';
    }
    else if((currpage=='mapstudenttopoint')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='mapstudenttopoint';
    }
    else if((currpage=='approval')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='approval';
    }
    else if((currpage=='cancellation')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='cancellation';
    }
    else if((currpage=='generatereport')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='generatereport';
    }


  }
  else if(name=="Accounts Admin"){
   this.page="accountadmin"; 
   if((currpage=='zonetostudent')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='zonetostudent';
    }
    else if((currpage=='transportfee')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='transportfee';
    }
    else if((currpage=='discount')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='discount';
    }
    else if((currpage=='generatereport')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='generatereport';
    }   
  }
    
  },
  setPage:function(page,title)
    {
      //alert(page);
     localStorage.setItem("curr_sess_homepage","0");
     localStorage.setItem("curr_sess_page",page);
     this.page=page;
     this.title=title;
     
 },
 signout:function()
 {
  window.location.href="../index.html";

   //document.querySelector('app-card').setPage("loginpage");
 },
 home:function()
 {
  localStorage.setItem("curr_sess_homepage","1");
  var name=sessionStorage.getItem("userinfo");
  if(name=="Transport Admin")
  {
    //alert("hi");
    window.location.href="../elements/home.html";
    
  }
else if(name=="Accounts Admin")
  {
    //alert("come");
     window.location.href="../elements/home.html";
  }
 }
  });

  </script>
</dom-module>
