<script src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../zonetostudent-card/zonetostudent-card.html">
<link rel="import" href="../mappointtoroute-card/mappointtoroute-card.html">
<link rel="import" href="../genestureport-card/genestureport-card.html">
<link rel="import" href="../cancellation-card/cancellation-card.html">
<link rel="import" href="../routereport-card/routereport-card.html">
<link rel="import" href="../refund-card/refund-card.html">
<link rel="import" href="../item-card/item-card.html">
<link rel="import" href="../accountsadmin-card/accountsadmin-card.html">
<link rel="import" href="../transportadmin-card/transportadmin-card.html">
<link rel="import" href="../login-card/login-card.html">
<link rel="import" href="../adminmanager-card/adminmanager-card.html">
<link rel="import" href="../financemanager-card/financemanager-card.html">
<link rel="import" href="../approvediscount-card/approvediscount-card.html">
<link rel="import" href="../refund-list/refund-list.html">
<link rel="import" href="../discountstudent-card/discountstudent-card.html">
<link rel="import" href="../transportfee-card/transportfee-card.html">
<link rel="import" href="../mapstudenttopoint-card/mapstudenttopoint-card.html">
<link rel="import" href="../discountverify-card/discountverify-card.html">
<link rel="import" href="../refundverify-card/refundverify-card.html">
<link rel="import" href="../receipt-card/receipt-card.html">
<link rel="import" href="../import-excel/import-excel.html">
<link rel="import" href="../feereports-card/feereports-card.html">
<link rel="import" href="../pending-card/pending-card.html">
<link rel="import" href="../chequedetail-card/chequedetail-card.html">
<link rel="import" href="../nodata-card/nodata-card.html">
<link rel="import" href="../studentpass-card/studentpass-card.html">
<link rel="import" href="../student-detail-card/student-detail-card.html">
<link rel="stylesheet" type="text/css" href="../styles/styles.css">
  <dom-module id="transport-app">
  <template>
  <style>
  .in
  {
  float:right;
  font-size:12px;
  }
  .backbutton
  {
    float:left;
    width: 4%;
  }
  </style>

  <div class="head">
  <paper-icon-button class="backbutton" src="../../images/home.png" on-click="home"></paper-icon-button>
      <label>{{title}}</label>
      <paper-button class="in" on-click="signout">Sign Out</paper-button>
    </div>

      <div class="content">
        <iron-pages selected="{{page}}" attr-for-selected="data-category">
            <section data-category="loginpage">
              <login-card></login-card>
            </section>
            <section data-category="accountadmin">
              <accountsadmin-card></accountsadmin-card>
            </section>
            <section data-category="transportadmin">
              <transportadmin-card></transportadmin-card>
            </section>
            <section data-category="financemanager">
              <financemanager-card></financemanager-card>
            </section>
            <section data-category="zonetostudent">
              <zonetostudent-card></zonetostudent-card>
            </section>
           <section data-category="mappointtoroute">
              <mappointtoroute-card></mappointtoroute-card>
           </section>
            <section data-category="mapstudenttopoint">
              <mapstudenttopoint-card></mapstudenttopoint-card>
           </section>
            <section data-category="generatereport">
              <genestureport-card></genestureport-card>
           </section>
            <section data-category="cancellation">
              <cancellation-card></cancellation-card>
           </section>
            <section data-category="feereport">
              <feereport-card></feereport-card>
           </section>
            <section data-category="feereports">
              <feereports-card></feereports-card>
           </section>
            <section data-category="generateroutereport">
              <routereport-card></routereport-card>
           </section>
            <section data-category="transportfee">
              <transportfee-card></transportfee-card>
           </section>
            <section data-category="approval">
              <refund-list></refund-list>
           </section>
           <section data-category="discount">
              <discountstudent-card></discountstudent-card>
           </section>
          <section data-category="adminmanager">
              <adminmanager-card></adminmanager-card>
           </section>
            <section data-category="approvediscount">
              <approvediscount-card></approvediscount-card>
           </section>
           <section data-category="discountverify">
              <discountverify-card></discountverify-card>
           </section>
           <section data-category="refundverify">
              <refundverify-card></refundverify-card>
           </section>
           <section data-category="importexcel">
              <import-excel></import-excel>
           </section>
           <section data-category="receipt">
              <receipt-card></receipt-card>
           </section>
             <section data-category="chequedetail">
              <chequedetail-card></chequedetail-card>
           </section>
            <section data-category="nodata">
              <nodata-card></nodata-card>
            </section>
           <section data-category="pass">
              <studentpass-card></studentpass-card>
           </section>
          <section data-category="pending">
            <pending-card></pending-card>
          </section>
          <section data-category="addstudent">
            <student-detail-card></student-detail-card>
          </section>
          </iron-pages>
       </div>
       <div class="footer"></div>
  </template>
  <script>
  Polymer({
    is: "transport-app",
    ready: function() {
   var name=sessionStorage.getItem("userinfo");
   var currpage=localStorage.getItem("curr_sess_page");
   if(name=="Transport Admin")  {
    //alert('in');
    /*this.page="transportadmin";
    if((currpage=='mappointtoroute')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='mappointtoroute';
    }
    else if((currpage=='mapstudenttopoint')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='mapstudenttopoint';
    }
    else if((currpage=='approval')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='approval';
    }
    else if((currpage=='cancellation')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='cancellation';
    }
    else if((currpage=='generatereport')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='generatereport';
    }
    else if((currpage=='generateroutereport')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='generateroutereport';
    }
    else if((currpage=='pass')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='pass';
    }*/
  }
  else if(name=="Accounts Admin"){
   this.page="accountadmin"; 
   /*if((currpage=='zonetostudent')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='zonetostudent';
    }
    else if((currpage=='transportfee')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='transportfee';
    }
    else if((currpage=='discount')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='discount';
    }
    else if((currpage=='generatereport')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='generatereport';
    }
    else if((currpage=='discountverify')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='discountverify';
    } 
    else if((currpage=='receipt')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='receipt';
    } 
    else if((currpage=='feereports')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='feereports';
    }
   else if((currpage=='pending')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='pending';
    }
   else if((currpage=='addstudent')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='addstudent';
    }*/
  }
  else if(name=="Admin Manager"){
   this.page="adminmanager"; 
   /*if((currpage=='approvediscount')&&(localStorage.getItem("curr_sess_homepage")!="1")){
      //alert('in in');
      this.page='approvediscount';
    }*/
  }
  },
  setPage:function(page,title){
    //alert(page);
    localStorage.setItem("curr_sess_homepage","0");
    localStorage.setItem("curr_sess_page",page);
    this.page=page;
    this.title=title;
 },
 signout:function()
 {
  window.location.href="../index.html";

   //document.querySelector('app-card').setPage("loginpage");
 },
  home:function(){
   var name=sessionStorage.getItem("userinfo");
   //alert(name);
   var currpage=localStorage.getItem("curr_sess_page");
   //alert(currpage);
    if(name=="Accounts Admin")  {
      document.querySelector('transportfee-service').ready();
      document.querySelector('transportfee-service').FnClear();
       /*document.querySelector('receipt-card').FnClear();
      document.querySelector('receipt-card').ready();
      document.querySelector('cqreceipt-card').FnClear();
      document.querySelector('cqreceipt-card').ready();
       document.querySelector('zoneinstalltype-card').FnClear();
      document.querySelector('zoneinstalltype-card').ready();*/
    if(currpage=="zonetostudent"){
      document.querySelector('zonetostudent-card').FnClear();
      document.querySelector('zonetostudent-card').ready();
       document.querySelector('zoneinstalltype-card').FnClear();
      document.querySelector('zoneinstalltype-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("accountadmin","Accounts Admin");
    }
    if(currpage=="feereports"){
      document.querySelector('feereports-card').FnClear();
      document.querySelector('feereports-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("accountadmin","Accounts Admin");
    }
    if(currpage=="transportfee"){
      document.querySelector('transportfee-card').FnClear();
      document.querySelector('transportfee-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("accountadmin","Accounts Admin");
    }
    if(currpage=="pending"){
      //document.querySelector('pending-card').FnClear();
      document.querySelector('pending-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("accountadmin","Accounts Admin");
    }
    if(currpage=="receipt"){
      document.querySelector('zonetostudent-card').FnClear();
      document.querySelector('zonetostudent-card').ready();
      if(sessionStorage.getItem("recflag")=="0")
      {
      document.querySelector('zoneinstalltype-card').FnClear();
      document.querySelector('zoneinstalltype-card').ready();
      }
      document.querySelector('receipt-card').FnClear();
      document.querySelector('receipt-card').ready();
      document.querySelector('cqreceipt-card').FnClear();
      document.querySelector('cqreceipt-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("accountadmin","Accounts Admin");
    }
    if(currpage=="addstudent"){
      document.querySelector('student-detail-card').FnClear();
      document.querySelector('student-detail-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("accountadmin","Accounts Admin");
    }
   }
   if(name=="Transport Admin")  {
    document.querySelector('mapstudenttopoint-service').FnClear();
    document.querySelector('transport-service').FnClear();
    if(currpage=="mapstudenttopoint"){
      document.querySelector('mapstudenttopoint-card').FnClear();
      document.querySelector('mapstudenttopoint-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
    }
     if(currpage=="mappointtoroute"){
      document.querySelector('mappointtoroute-card').FnClear();
      document.querySelector('mappointtoroute-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
    }
    if(currpage=="cancellation"){
      document.querySelector('cancellation-card').FnClear();
      document.querySelector('cancellation-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
    }
    if(currpage=="generateroutereport"){
      document.querySelector('routereport-card').FnClear();
      document.querySelector('routereport-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
    }
   if(currpage=="pass"){
      document.querySelector('studentpass-card').FnClear();
      document.querySelector('studentpass-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("transportadmin","Transport Admin");
    }
   }
    if(name=="Admin Manager")  {
    if(currpage=="approvediscount"){
      //document.querySelector('approveddiscount-card').FnClear();
      document.querySelector('approvediscount-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("adminmanager","Admin Manager");
    }
    if(currpage=="nodata"){
      //document.querySelector('approveddiscount-card').FnClear();
      document.querySelector('nodata-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("adminmanager","Admin Manager");
    }

  }
  if(name=="Finance Manager")  {
    if(currpage=="generatereport"){
      document.querySelector('genestureport-card').FnClear();
      document.querySelector('genestureport-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
    }
    if(currpage=="chequedetail"){
      //document.querySelector('genestureport-card').FnClear();
      document.querySelector('chequedetail-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
    }
    if(currpage=="discount"){
      document.querySelector('discountstudent-card').FnClear();
      document.querySelector('discountstudent-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
    }
    if(currpage=="nodata"){
      //document.querySelector('approveddiscount-card').FnClear();
      document.querySelector('nodata-card').ready();
      document.querySelector('app-card').setPage("transportapp");
     document.querySelector('transport-app').setPage("financemanager","Finance Manager");
    }
    if(currpage=="refundverify"){
      //document.querySelector('refundverify-card').FnClear();
      document.querySelector('refundverify-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
    }
    if(currpage=="feereports"){
      document.querySelector('feereports-card').FnClear();
      document.querySelector('feereports-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
    }
     if(currpage=="pending"){
      //document.querySelector('pending-card').FnClear();
      document.querySelector('pending-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
    }
     if(currpage=="generateroutereport"){
      document.querySelector('routereport-card').FnClear();
      document.querySelector('routereport-card').ready();
      document.querySelector('app-card').setPage("transportapp");
      document.querySelector('transport-app').setPage("financemanager","Finance Manager");
    }
   
  }
 }
  });

  </script>
</dom-module>
