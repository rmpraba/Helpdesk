<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="import" href="../query-post/query-post.html">
<dom-module id="icon-card">
  <template>
  <style type="text/css">
    .frontpage
 {
  margin:0 auto;
    text-align: center;
    width: 100%;
    @apply(--layout-vertical);
 }
 .hori
 {
   @apply(--layout-horizontal);
 }
.iconbutton
 {

    top:35%;
  width: 13%;
  height: 33%;
 }
 .cur
 {
  cursor: pointer;
 }
  </style>
   <body style="height: auto;">
  

    <div class="frontpage">
    <div class="hori">
      <paper-icon-button class="iconbutton" src="../../images/inbox.jpg" on-click="inbox"></paper-icon-button>
       <a class="cur" on-click="inbox">Inbox({{unread}})</a>
         </div>
    <div class="hori">
      <paper-icon-button id="form" class="iconbutton" src="../../images/feedback.png"  on-click="insertfeedback"></paper-icon-button>
      <a  class="cur" on-click="insertfeedback">Feedback</a>
      </div>
          
          <div class="hori">

       <paper-icon-button id="report" class="iconbutton" src="../../images/report.png" on-click="report"></paper-icon-button>
        <a class="cur" on-click="report">Report</a>
   </div>
    </div>
  </body>
  <query-post id='qpostid'></query-post>
  </template>
  <script>
  (function() {
    'use strict';
var id;
var role;
    Polymer({
      is: 'icon-card',

     ready:function(){

     },
     insertfeedback:function()
     {
       //document.querySelector('transport-app').setPage('iconlist');
       document.querySelector('transport-app').setPage("complaintpage");
     },
     inbox:function()
     {
     // document.querySelector('transport-app').setPage('iconlist');
       //alert(this.unread);
       id=sessionStorage.getItem("user");
       role=sessionStorage.getItem("role");
       //alert(id+'    '+role);
       if((id=="admin")&&(role=='manager')){
        //alert('hello');
        document.querySelector('transport-app').setPage("parent-inbox");

        this.$.qpostid.managerinbox();
       }
       
       else if(id=="parent")
       {
        document.querySelector('transport-app').setPage("parentinbox-itemcard");

        this.$.qpostid.parentinbox();
       }
       else if(id=="admin"){
        document.querySelector('transport-app').setPage("parent-inbox");
       this.$.qpostid.getmsg(); 
       }
     },
     Fnparent:function(){
      this.$.report.hidden=true;
     },
     Fnadmin:function(){
        this.$.form.hidden=true;
     },
     report:function(){
        document.querySelector('transport-app').setPage("report");
        this.$.qpostid.getreport();
     }
    });
  })();
  </script>
</dom-module>
